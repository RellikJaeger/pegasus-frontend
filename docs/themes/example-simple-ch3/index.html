<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-KQLQN0DTLR"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-KQLQN0DTLR');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/themes/example-simple-ch3/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Part 3 - Pegasus Docs</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li class=dropdown-submenu><a tabindex=-1 href="">Setup</a><ul class=dropdown-menu><li><a href=../../user-guide/getting-started/ >Getting started</a></li><li><a href=../../user-guide/controls/ >Default controls</a></li><li><a href=../../user-guide/portable/ >Portable mode</a></li><li><a href=../../user-guide/config-dirs/ >Config directories</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform notes</a><ul class=dropdown-menu><li><a href=../../user-guide/platform-windows/ >Windows</a></li><li><a href=../../user-guide/platform-android/ >Android</a></li><li><a href=../../user-guide/platform-android-example/ >Android example</a></li><li><a href=../../user-guide/platform-linux/ >Linux</a></li><li><a href=../../user-guide/platform-raspberry/ >Raspberry Pi</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Adding games</a><ul class=dropdown-menu><li><a href=../../user-guide/adding-games/ >How to add games</a></li><li><a href=../../user-guide/meta-files/ >Metadata files</a></li><li><a href=../../user-guide/meta-assets/ >Asset files</a></li><li><a href=../../user-guide/meta-sources/ >Other sources</a></li></ul></li><li><a href=../../user-guide/faq/ >FAQ</a></li><li><a href=../../user-guide/installing-themes/ >Installing themes</a></li><li><a href=../../user-guide/scripting/ >Scripting</a></li><li><a href=../../user-guide/breaking-changes/ >Breaking changes</a></li></ul></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../overview/ >Overview</a></li><li><a href=../extra/ >Special features</a></li><li><a href=../qml-tutorials/ >QML tutorials</a></li><li><a href=../qml-modules/ >QML modules</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Simple theme</a><ul class=dropdown-menu><li><a href=../example-simple-intro/ >Introduction</a></li><li><a href=../example-simple-ch1/ >Part 1</a></li><li><a href=../example-simple-ch2/ >Part 2</a></li><li class=active><a href=./ >Part 3</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Flixnet theme</a><ul class=dropdown-menu><li><a href=../example-flixnet-intro/ >Introduction</a></li><li><a href=../example-flixnet-ch1/ >Part 1</a></li><li><a href=../example-flixnet-ch2/ >Part 2</a></li><li><a href=../example-flixnet-ch3/ >Part 3</a></li><li><a href=../example-flixnet-ch4/ >Part 4</a></li><li><a href=../example-flixnet-ch5/ >Part 5</a></li></ul></li><li><a href=../api/ >API reference</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/translate/ >Translations</a></li><li><a href=../../dev/meta-syntax/ >Metadata syntax</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compiling Qt</a></li><li><a href=../../dev/deploy/ >Deployment</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fas fa-search"></i> Search</a></li><li><a rel=prev href=../example-simple-ch2/ ><i class="fas fa-arrow-left"></i> Previous</a></li><li><a rel=next href=../example-flixnet-intro/ >Next <i class="fas fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#simple-theme-part-2-game-details>Simple theme, Part 2: Game details</a></li><li class=second-level><a href=#game-information>Game information</a></li><li class=third-level><a href=#the-current-game>The current game</a></li><li class=third-level><a href=#box-art>Box art</a></li><li class=third-level><a href=#title>Title</a></li><li class=third-level><a href=#developer-and-release>Developer and release</a></li><li class=third-level><a href=#description>Description</a></li><li class=second-level><a href=#conclusion>Conclusion</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=simple-theme-part-2-game-details>Simple theme, Part 2: Game details</h1><h2 id=game-information>Game information</h2><p>With the game selection menu done, let's continue with the right side of the theme, the game informations. Metadata and assets of the currently selected game will be shown here; unlike the dynamic menu, these will be simple Text and Image objects, with their content coming from the API. We'll show the following information, in order:</p><ul><li>box art</li><li>game title</li><li>developer and release year (in one row)</li><li>game description</li></ul><p><img alt=layout src=../img/simple_layout-right.svg></p><h3 id=the-current-game>The current game</h3><p>We can get the current game using the index provided by the game list ListView. Let's make a shortcut for it:</p><div class=codehilite><pre><span></span><code><span class=nx>FocusScope</span> <span class=p>{</span>

    <span class=nx>property</span> <span class=kr>int</span> <span class=k>currentCollectionIndex:</span> <span class=mi>0</span>
    <span class=nx>property</span> <span class=kd>var</span> <span class=k>currentCollection:</span> <span class=nx>api</span><span class=p>.</span><span class=nx>collections</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>currentCollectionIndex</span><span class=p>)</span>
<span class=hll>    <span class=nx>property</span> <span class=kd>var</span> <span class=k>currentGame:</span> <span class=nx>currentCollection</span><span class=p>.</span><span class=nx>games</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>gameView</span><span class=p>.</span><span class=nx>currentIndex</span><span class=p>)</span>
</span>
    <span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div><div class="admonition help"><p class=admonition-title>Help</p><p>I'm placing it at the top of the theme to make it accessible in all elements. If I'd place it in, for example, <code>content</code>, then I'd need to write <code>content.currentGame</code>. Use whichever you prefer.</p></div><h3 id=box-art>Box art</h3><p>Add an Image object to the right side panel, with its source set to the current game's box art asset. The image will take the upper half of the screen, with a 50px padding around. As the box arts of different games may have different shapes (portrait, landscape, extra wide, etc.), it might be useful to define the maximum area an image may take up, and fit them in this area.</p><div class=codehilite><pre><span></span><code><span class=nx>Rectangle</span> <span class=p>{</span>
    <span class=kd>id: content</span>

    <span class=k>color:</span> <span class=s2>&quot;#222&quot;</span>

    <span class=k>anchors.left:</span> <span class=nx>menu</span><span class=p>.</span><span class=nx>right</span>
    <span class=k>anchors.right:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>right</span>
    <span class=k>anchors.top:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>top</span>
    <span class=k>anchors.bottom:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>bottom</span>


    <span class=nx>Image</span> <span class=p>{</span>
        <span class=kd>id: cover</span>

        <span class=k>anchors.top:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>top</span>
        <span class=k>anchors.right:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>right</span>
        <span class=k>anchors.left:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>left</span>
        <span class=k>anchors.margins:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span>
        <span class=k>anchors.bottom:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>verticalCenter</span>
        <span class=k>anchors.bottomMargin:</span> <span class=mi>0</span>

        <span class=k>fillMode:</span> <span class=nx>Image</span><span class=p>.</span><span class=nx>PreserveAspectFit</span>
        <span class=k>horizontalAlignment:</span> <span class=nx>Image</span><span class=p>.</span><span class=nx>AlignRight</span>

        <span class=k>source:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>assets</span><span class=p>.</span><span class=nx>boxFront</span>
        <span class=nx>sourceSize</span> <span class=p>{</span> <span class=k>width:</span> <span class=mi>1024</span><span class=p>;</span> <span class=k>height:</span> <span class=mi>1024</span> <span class=p>}</span>
        <span class=k>asynchronous:</span> <span class=kc>true</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Box art images might be quite big in resolution, so this time I've also set <code>sourceSize</code>: it limits the maximum amount of memory the image will take up. If the image is larger than this, it will be scaled down, keeping the aspect ratio. In this particular case, I've set it to scale down to 1024 &times; 1024 pixels (taking up about/at most 1024 &times; 1024 &times; 3 bytes = 3 MiB space in the memory).</p><div class="admonition note"><p class=admonition-title>Column and Row</p><p>The QML Column and Row object are great tools for aligning a fixed number of elements. In this case, the box art and the further Text items could be put into a Column that would <code>anchors.fill</code> its parent with a 50px <code>anchors.margin</code>, so I wouldn't have to define it for the Image itself and the other Texts.</p><p>So why I didn't use it? Column and Row works the best when the spacing between the elements is the same, but in this theme, I'd like to set some custom spacing between the elements later.</p><p>An alternative would be to put the elements into an Item. Perhaps you might want to try it as a practice?</p></div><h3 id=title>Title</h3><p>The rest of the game informations will be simple Text objects. The only thing that needs more attention is that the texts may be too long to fit on the screen, so we'll define a text area (similarly to the box art), and hide what doesn't fit into them.</p><p>So, for the title:</p><div class=codehilite><pre><span></span><code><span class=nx>Rectangle</span> <span class=p>{</span>
    <span class=kd>id: content</span>

    <span class=c1>// ...</span>

    <span class=nx>Image</span> <span class=p>{</span> <span class=cm>/* ... */</span> <span class=p>}</span>


    <span class=nx>Text</span> <span class=p>{</span>
        <span class=kd>id: title</span>

        <span class=k>text:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>title</span>
        <span class=c1>// white, big bold sans-serif font</span>
        <span class=k>color:</span> <span class=s2>&quot;white&quot;</span>
        <span class=k>font.family:</span> <span class=nx>globalFonts</span><span class=p>.</span><span class=nx>sans</span>
        <span class=k>font.pixelSize:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
        <span class=k>font.bold:</span> <span class=kc>true</span>

        <span class=k>horizontalAlignment:</span> <span class=nx>Text</span><span class=p>.</span><span class=nx>AlignRight</span>
        <span class=c1>// if it&#39;s too long, end it with an ellipsis</span>
        <span class=k>elide:</span> <span class=nx>Text</span><span class=p>.</span><span class=nx>ElideRight</span>

        <span class=c1>// 40px below the box art</span>
        <span class=k>anchors.top:</span> <span class=nx>cover</span><span class=p>.</span><span class=nx>bottom</span>
        <span class=k>anchors.topMargin:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>40</span><span class=p>)</span>
        <span class=c1>// left and right edges same as the image</span>
        <span class=k>anchors.left:</span> <span class=nx>cover</span><span class=p>.</span><span class=nx>left</span>
        <span class=k>anchors.right:</span> <span class=nx>cover</span><span class=p>.</span><span class=nx>right</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=developer-and-release>Developer and release</h3><p>I'll put two Text items in a Row, and move the Row under the title. I didn't bother wth a maximum text width here, as company names tend to be not too long, while the release year should be just four numbers.</p><p>The code:</p><div class=codehilite><pre><span></span><code><span class=nx>Rectangle</span> <span class=p>{</span>
    <span class=kd>id: content</span>

    <span class=c1>// ...</span>

    <span class=nx>Row</span> <span class=p>{</span>
        <span class=kd>id: shortInfo</span>

        <span class=k>anchors.top:</span> <span class=nx>title</span><span class=p>.</span><span class=nx>bottom</span>
        <span class=k>anchors.right:</span> <span class=nx>title</span><span class=p>.</span><span class=nx>right</span>

        <span class=k>spacing:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>


        <span class=nx>Text</span> <span class=p>{</span>
            <span class=k>text:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>developer</span>
            <span class=k>color:</span> <span class=s2>&quot;white&quot;</span>
            <span class=k>font.pixelSize:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>18</span><span class=p>)</span>
            <span class=k>font.family:</span> <span class=nx>globalFonts</span><span class=p>.</span><span class=nx>sans</span>
        <span class=p>}</span>

        <span class=nx>Text</span> <span class=p>{</span>
            <span class=k>text:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>year</span>
            <span class=k>color:</span> <span class=s2>&quot;white&quot;</span>
            <span class=k>font.pixelSize:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>18</span><span class=p>)</span>
            <span class=k>font.family:</span> <span class=nx>globalFonts</span><span class=p>.</span><span class=nx>sans</span>
            <span class=k>visible:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>year</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=c1>// !!</span>
        <span class=p>}</span>
    <span class=p>}</span>

<span class=p>}</span>
</code></pre></div><p>Note that I only show the year when it's greater than 0. If we have no information about when the game was released, <code>&lt;Game&gt;.year</code> will be 0, which looks silly on the screen.</p><h3 id=description>Description</h3><p>A multiline text area. If the game has a short summary, it'll show that, otherwise the detailed description (or stay empty if none is available).</p><div class=codehilite><pre><span></span><code><span class=nx>Rectangle</span> <span class=p>{</span>
    <span class=kd>id: content</span>

    <span class=c1>// ...</span>

    <span class=nx>Text</span> <span class=p>{</span>
        <span class=kd>id: description</span>

        <span class=k>text:</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>summary</span> <span class=o>||</span> <span class=nx>currentGame</span><span class=p>.</span><span class=nx>description</span>
        <span class=k>color:</span> <span class=s2>&quot;white&quot;</span>
        <span class=k>font.pixelSize:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>18</span><span class=p>)</span>
        <span class=k>font.family:</span> <span class=nx>globalFonts</span><span class=p>.</span><span class=nx>sans</span>

        <span class=k>wrapMode:</span> <span class=nx>Text</span><span class=p>.</span><span class=nx>WordWrap</span>
        <span class=k>horizontalAlignment:</span> <span class=nx>Text</span><span class=p>.</span><span class=nx>AlignRight</span>
        <span class=k>elide:</span> <span class=nx>Text</span><span class=p>.</span><span class=nx>ElideRight</span>

        <span class=k>anchors.top:</span> <span class=nx>shortInfo</span><span class=p>.</span><span class=nx>bottom</span>
        <span class=k>anchors.topMargin:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>40</span><span class=p>)</span>
        <span class=k>anchors.bottom:</span> <span class=nx>parent</span><span class=p>.</span><span class=nx>bottom</span>
        <span class=k>anchors.bottomMargin:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span>
        <span class=k>anchors.left:</span> <span class=nx>cover</span><span class=p>.</span><span class=nx>left</span>
        <span class=k>anchors.right:</span> <span class=nx>cover</span><span class=p>.</span><span class=nx>right</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h2 id=conclusion>Conclusion</h2><p>With all these changes, our theme is now complete and should look like this:</p><p><img alt=screenshot src=../img/simple_end.png></p><p>Sure, perhaps not the most attractive yet, but I hope it helped learning theme creation. Feel free to tweak it to you liking, or make a new one based on it. Have fun!</p></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018-2021 Mátyás Mustoha</small><br><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script>var base_url = "../.."</script><script src=../../js/base.js></script><script src=../../search/main.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=searchModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><table class=table><thead><tr><th style="width: 20%;">Keys</th><th>Action</th></tr></thead><tbody><tr><td class="help shortcut"><kbd>?</kbd></td><td>Open this help</td></tr><tr><td class="next shortcut"><kbd>n</kbd></td><td>Next page</td></tr><tr><td class="prev shortcut"><kbd>p</kbd></td><td>Previous page</td></tr><tr><td class="search shortcut"><kbd>s</kbd></td><td>Search</td></tr></tbody></table></div><div class=modal-footer></div></div></div></div></body></html>