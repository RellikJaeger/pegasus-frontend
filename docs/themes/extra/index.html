<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-KQLQN0DTLR"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-KQLQN0DTLR');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/themes/extra/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Special features - Pegasus Docs</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li class=dropdown-submenu><a tabindex=-1 href="">Setup</a><ul class=dropdown-menu><li><a href=../../user-guide/getting-started/ >Getting started</a></li><li><a href=../../user-guide/controls/ >Default controls</a></li><li><a href=../../user-guide/portable/ >Portable mode</a></li><li><a href=../../user-guide/config-dirs/ >Config directories</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform notes</a><ul class=dropdown-menu><li><a href=../../user-guide/platform-windows/ >Windows</a></li><li><a href=../../user-guide/platform-android/ >Android</a></li><li><a href=../../user-guide/platform-android-example/ >Android example</a></li><li><a href=../../user-guide/platform-linux/ >Linux</a></li><li><a href=../../user-guide/platform-raspberry/ >Raspberry Pi</a></li><li><a href=../../user-guide/platform-macos/ >MacOS</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Adding games</a><ul class=dropdown-menu><li><a href=../../user-guide/adding-games/ >How to add games</a></li><li><a href=../../user-guide/meta-files/ >Metadata files</a></li><li><a href=../../user-guide/meta-assets/ >Asset files</a></li><li><a href=../../user-guide/meta-sources/ >Other sources</a></li></ul></li><li><a href=../../user-guide/faq/ >FAQ</a></li><li><a href=../../user-guide/installing-themes/ >Installing themes</a></li><li><a href=../../user-guide/scripting/ >Scripting</a></li><li><a href=../../user-guide/breaking-changes/ >Breaking changes</a></li></ul></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../overview/ >Overview</a></li><li class=active><a href=./ >Special features</a></li><li><a href=../qml-tutorials/ >QML tutorials</a></li><li><a href=../qml-modules/ >QML modules</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Simple theme</a><ul class=dropdown-menu><li><a href=../example-simple-intro/ >Introduction</a></li><li><a href=../example-simple-ch1/ >Part 1</a></li><li><a href=../example-simple-ch2/ >Part 2</a></li><li><a href=../example-simple-ch3/ >Part 3</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Flixnet theme</a><ul class=dropdown-menu><li><a href=../example-flixnet-intro/ >Introduction</a></li><li><a href=../example-flixnet-ch1/ >Part 1</a></li><li><a href=../example-flixnet-ch2/ >Part 2</a></li><li><a href=../example-flixnet-ch3/ >Part 3</a></li><li><a href=../example-flixnet-ch4/ >Part 4</a></li><li><a href=../example-flixnet-ch5/ >Part 5</a></li></ul></li><li><a href=../api/ >API reference</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/translate/ >Translations</a></li><li><a href=../../dev/meta-syntax/ >Metadata syntax</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compiling Qt</a></li><li><a href=../../dev/deploy/ >Deployment</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fas fa-search"></i> Search</a></li><li><a rel=prev href=../overview/ ><i class="fas fa-arrow-left"></i> Previous</a></li><li><a rel=next href=../qml-tutorials/ >Next <i class="fas fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#special-features>Special features</a></li><li class=second-level><a href=#blurhash>Blurhash</a></li><li class=second-level><a href=#virtual-screen-coordinates>Virtual screen coordinates</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=special-features>Special features</h1><p>This page lists some additional features Pegasus provides for themes.</p><p><br></p><h2 id=blurhash>Blurhash</h2><p>Blurhash is a way to generate placeholders for images by using a short string to represent them. For more details, as well as producing BlurHash strings, visit <a href=https://blurha.sh/ >blurha.sh</a>.</p><p><img alt="demo image" src=../img/blurhash_demo.jpg></p><p>To use them in a theme, set an Image component's <code>source</code> field to a special format like this:</p><div class=codehilite><pre><span></span><code><span class=nx>Image</span> <span class=p>{</span>
    <span class=k>source:</span> <span class=s2>&quot;image://blurhash/&quot;</span> <span class=o>+</span> <span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>yourHash</span><span class=p>)</span>
    <span class=k>width:</span> <span class=nx>someWidth</span>
    <span class=k>height:</span> <span class=nx>someHeight</span>
<span class=p>}</span>
</code></pre></div><p>For example:</p><div class=codehilite><pre><span></span><code><span class=nx>Image</span> <span class=p>{</span>
    <span class=k>source:</span> <span class=s2>&quot;image://blurhash/&quot;</span> <span class=o>+</span> <span class=nb>encodeURIComponent</span><span class=p>(</span><span class=s2>&quot;LEHV6nWB2yk8pyoJadR*.7kCMdnj&quot;</span><span class=p>)</span>
    <span class=k>width:</span> <span class=mi>300</span>
    <span class=k>height:</span> <span class=mi>200</span>
<span class=p>}</span>
</code></pre></div><div class="admonition info"><p class=admonition-title>encodeURIComponent</p><p>Technically the <code>source</code> field is an URI, and certain characters that BlurHash strings use, like <code>%</code> signs, are not allowed there. <code>encodeURIComponent</code> is a standard JavaScript function that encodes this string to a safe to use format.</p></div><div class="admonition tip"><p class=admonition-title>sourceSize</p><p>By default the placeholder images are generated in a small resolution (24&times;24) then scaled to match the Image's size. If you wish to increase or decrease this internal resolution, you can use the Image's <code>sourceSize</code> property for that. Note that in most cases increasing this resolution does not produce better visual results.</p></div><p><br></p><h2 id=virtual-screen-coordinates>Virtual screen coordinates</h2><div class="admonition danger"><p class=admonition-title>Deprecated</p><p>While the methods described here still work, in new themes you should write your own scaling function if necessary. To get the properties of the device's screen (eg. DPI), you can use the <a href=https://doc.qt.io/qt-5/qml-qtquick-window-screen.html>QML Screen</a> object. To get the size of the window, you can check the <code>width</code> and <code>height</code> properties of your theme's root element (ie. the <code>FocusScope</code>), as it will be set to fill the whole window.</p></div><p>When you load a theme, its main component (the <code>FocusScope</code> above) will be set to fill the whole screen. The top left corner of the screen is (0,0), with the X axis growing right and the Y axis growing downwards.</p><p>While positioning elements on the screen, you should make sure that your theme works well with multiple aspect ratios and screen resolutions. Generally in QML this isn't hard because you can tell the position and size of elements compared to others using <em>anchors</em> (eg. align an element right above or below to another -- see the <a href=../qml-tutorials/ >QML tutorials</a>).</p><p>When you <em>do</em> have to position or size things manually, it is common to use percentages or create different themes for different aspect ratios. For better support of different screen sizes, Pegasus also provides an optional <strong>virtual coordinate system</strong>. You can treat the screen as one with the resolution of <em>at least</em> <strong>1280x720</strong> virtual pixels (16:9 aspect ratio), and use integer pixel values, which will then scale to the correct physical value according to the screen's real resolution.</p><p><img alt=vpx src=../img/overview_vpx.png></p><p>If the screen's aspect ratio is smaller than 16:9 (eg. 4:3 or 5:4), then the <em>virtual</em> screen will be taller than 720 virtual pixels, but still have 1280 as a fixed width. If the aspect ratio is wider (eg. 21:9), then the virtual height will remain to be 720, but the width will be bigger.</p><p>This system can be useful when you want to express precise details as integer values, like spacing, text sizes, width/height, etc. To use virtual pixel values, simply put your number inside a function called <code>vpx</code>. For example, instead of</p><div class=codehilite><pre><span></span><code><span class=k>width:</span> <span class=mi>50</span>
</code></pre></div><p>you would use</p><div class=codehilite><pre><span></span><code><span class=k>width:</span> <span class=nx>vpx</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span>
</code></pre></div><p>which will turn into 50 real pixels on a 720p screen, scale up to 150px on a 4K TV, and scale down to 25px on a smaller 360p device.</p><p>Using virtual pixel values is optional, but often more intuitive than percentages with several digits of precision. Depending on your situations, you might prefer one over the other, or use both of them. Feel free to experiment!</p><div class="admonition tip"><p class=admonition-title>Tip</p><p>Using the virtual coordinate system does <strong>not</strong> decrease image quality.</p></div></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018-2021 Mátyás Mustoha</small><br><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script>var base_url = "../.."</script><script src=../../js/base.js></script><script src=../../search/main.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=searchModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><table class=table><thead><tr><th style="width: 20%;">Keys</th><th>Action</th></tr></thead><tbody><tr><td class="help shortcut"><kbd>?</kbd></td><td>Open this help</td></tr><tr><td class="next shortcut"><kbd>n</kbd></td><td>Next page</td></tr><tr><td class="prev shortcut"><kbd>p</kbd></td><td>Previous page</td></tr><tr><td class="search shortcut"><kbd>s</kbd></td><td>Search</td></tr></tbody></table></div><div class=modal-footer></div></div></div></div></body></html>