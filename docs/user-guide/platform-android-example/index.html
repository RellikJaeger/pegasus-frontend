<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-KQLQN0DTLR"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-KQLQN0DTLR');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/user-guide/platform-android-example/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Android example - Pegasus Docs</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li class=dropdown-submenu><a tabindex=-1 href="">Setup</a><ul class=dropdown-menu><li><a href=../getting-started/ >Getting started</a></li><li><a href=../controls/ >Default controls</a></li><li><a href=../portable/ >Portable mode</a></li><li><a href=../config-dirs/ >Config directories</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform notes</a><ul class=dropdown-menu><li><a href=../platform-windows/ >Windows</a></li><li><a href=../platform-android/ >Android</a></li><li class=active><a href=./ >Android example</a></li><li><a href=../platform-linux/ >Linux</a></li><li><a href=../platform-raspberry/ >Raspberry Pi</a></li><li><a href=../platform-macos/ >MacOS</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Adding games</a><ul class=dropdown-menu><li><a href=../adding-games/ >How to add games</a></li><li><a href=../meta-files/ >Metadata files</a></li><li><a href=../meta-assets/ >Asset files</a></li><li><a href=../meta-sources/ >Other sources</a></li></ul></li><li><a href=../faq/ >FAQ</a></li><li><a href=../installing-themes/ >Installing themes</a></li><li><a href=../scripting/ >Scripting</a></li><li><a href=../breaking-changes/ >Breaking changes</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../themes/overview/ >Overview</a></li><li><a href=../../themes/extra/ >Special features</a></li><li><a href=../../themes/qml-tutorials/ >QML tutorials</a></li><li><a href=../../themes/qml-modules/ >QML modules</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Simple theme</a><ul class=dropdown-menu><li><a href=../../themes/example-simple-intro/ >Introduction</a></li><li><a href=../../themes/example-simple-ch1/ >Part 1</a></li><li><a href=../../themes/example-simple-ch2/ >Part 2</a></li><li><a href=../../themes/example-simple-ch3/ >Part 3</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Flixnet theme</a><ul class=dropdown-menu><li><a href=../../themes/example-flixnet-intro/ >Introduction</a></li><li><a href=../../themes/example-flixnet-ch1/ >Part 1</a></li><li><a href=../../themes/example-flixnet-ch2/ >Part 2</a></li><li><a href=../../themes/example-flixnet-ch3/ >Part 3</a></li><li><a href=../../themes/example-flixnet-ch4/ >Part 4</a></li><li><a href=../../themes/example-flixnet-ch5/ >Part 5</a></li></ul></li><li><a href=../../themes/api/ >API reference</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/translate/ >Translations</a></li><li><a href=../../dev/meta-syntax/ >Metadata syntax</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compiling Qt</a></li><li><a href=../../dev/deploy/ >Deployment</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fas fa-search"></i> Search</a></li><li><a rel=prev href=../platform-android/ ><i class="fas fa-arrow-left"></i> Previous</a></li><li><a rel=next href=../platform-linux/ >Next <i class="fas fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#android-example-setup>Android example setup</a></li></ul></div></div><div class=col-md-9 role=main><h2 id=android-example-setup>Android example setup</h2><p>Let's say I want to play my NES and PSP games on Android. I'd like to use RetroArch with the <code>fceumm</code> core (installed from its menu) for emulating NES, and use the standalone PPSSPP app for PSP. After copying the roms to the SD card, my directory structure looks like this <em>(games are examples)</em>:</p><div class=codehilite><pre><span></span><code>[SD card]
└─ Roms
   ├─ NES
   │  ├─ Contra.zip
   │  └─ Super Mario.zip
   └─ PSP
      ├─ Patapon.iso
      └─ Lumines.cso
</code></pre></div><p>I've also downloaded assets (like box art and video) for my games using a <a href=../meta-assets/#how-to-get-assets-for-my-games>scraper</a>. To make Pegasus automatically find them, I place them in a directory called <code>media</code> for each system:</p><pre>
[SD card]
└─ Roms
   ├─ NES
   │  ├─ <b>media</b>
   │  │  ├─ <b>Contra</b>
   │  │  │  ├─ <i>boxFront.png</i>
   │  │  │  └─ <i>video.mp4</i>
   │  │  └─ <b>Super Mario</b>
   │  │     ├─ <i>boxFront.png</i>
   │  │     └─ <i>video.mp4</i>
   │  ├─ Contra.zip
   │  └─ Super Mario.zip
   └─ PSP
      ├─ <b>media</b>
      │  ├─ <b>Patapon</b>
      │  │  └─ <i>boxFront.png</i>
      │  └─ <b>Lumines</b>
      │     ├─ <i>boxFront.png</i>
      │     └─ <i>video.mp4</i>
      ├─ Patapon.iso
      └─ Lumines.cso
</pre><p>(see the documentation <a href=../meta-assets/#the-media-directory>here</a>)</p><p>Now I create a <a href=../meta-files/ >metadata file</a> for each system. As mentioned in the <a href=../platform-android/ >Android platform notes</a>, RetroArch happens to need a bunch of parameters, but PPSSPP can just open the file directly. Here are my configs:</p><details class=note><summary>[SD card]/Roms/PSP/metadata.pegasus.txt</summary><div class=codehilite><pre><span></span><code><span class=nf>collection</span><span class=o>:</span> <span class=n>PSP</span>
<span class=nf>extension</span><span class=o>:</span> <span class=n>iso</span><span class=p>,</span> <span class=n>cso</span>
<span class=nf>launch</span><span class=o>:</span> <span class=n>am</span> <span class=n>start</span>
  --user <span class=m>0</span>
  -a android.intent.action.VIEW
  -d <span class=o>{</span>file.path<span class=o>}</span>
</code></pre></div></details><details class=note><summary>[SD card]/Roms/NES/metadata.pegasus.txt</summary><div class=codehilite><pre><span></span><code><span class=nf>collection</span><span class=o>:</span> <span class=n>NES</span>
<span class=nf>extensions</span><span class=o>:</span> <span class=n>zip</span>
<span class=nf>launch</span><span class=o>:</span> <span class=n>am</span> <span class=n>start</span>
  --user <span class=m>0</span>
  -n com.retroarch/.browser.retroactivity.RetroActivityFuture
  -e ROM <span class=o>{</span>file.path<span class=o>}</span>
  -e LIBRETRO /data/data/com.retroarch/cores/fceumm_libretro_android.so
  -e CONFIGFILE /storage/emulated/0/Android/data/com.retroarch/files/retroarch.cfg
  -e QUITFOCUS
  --activity-clear-top
  --activity-clear-task
  --activity-no-history
</code></pre></div></details><div class="admonition warning"><p class=admonition-title>SD card path</p><p>In the above configurations I use <code>/storage/emulated/0/</code> which is the path of the SD card on my device. This might be different for you! You can check the path in most file manager apps, look for something like "file details" or similar.</p></div><p>While it's optional, I'd also like some descriptions and such for my games, so I add the following as well as well:</p><details class=note><summary>[SD card]/Roms/PSP/metadata.pegasus.txt</summary><div class=codehilite><pre><span></span><code><span class=err>...</span><span class=w></span>

<span class=nf>game</span><span class=o>:</span> <span class=n>Patapon</span>
<span class=nf>file</span><span class=o>:</span> <span class=n>Patapon</span>.<span class=n>iso</span>
<span class=nf>description</span><span class=o>:</span> <span class=n>For</span> <span class=n>years</span> <span class=n>the</span> <span class=n>Patapon</span> <span class=n>tribe</span> <span class=n>has</span> <span class=n>lived</span> <span class=n>in</span> <span class=n>the</span> <span class=n>desolate</span> <span class=n>frontier</span><span class=p>,</span> <span class=n>driven</span> <span class=n>from</span> <span class=n>their</span>
  home by the evil Zigoton army. Behind the Patapons cute exterior, lies a fierce warrior
  spirit that can only be commanded by the beat of their God’s war drum. They <span class=nb>wait</span> <span class=k>for</span> the day
  that the <span class=s2>&quot;Almighty&quot;</span> will <span class=k>return</span>, to lead them against their enemies and bring them back to
  their homeland. Finally, their <span class=nb>wait</span> has come to an end as the drums of war are heard once
  again.

<span class=nf>game</span><span class=o>:</span> <span class=n>LUMINES</span>
<span class=nf>file</span><span class=o>:</span> <span class=n>Lumines</span>.<span class=n>cso</span>
<span class=nf>description</span><span class=o>:</span> <span class=n>LUMINES</span> <span class=n>brings</span> <span class=n>minimalism</span> <span class=n>to</span> <span class=n>the</span> <span class=n>puzzle</span> <span class=n>genre</span> <span class=n>where</span> <span class=n>the</span> <span class=n>fusion</span> <span class=n>of</span> <span class=n>light</span> <span class=n>and</span> <span class=n>sound</span>
  sets the stage <span class=k>for</span> a two-color falling block experience <span class=k>in</span> HD and 4K. Groove to electronic
  jams <span class=k>while</span> strategically dropping blocks before the BPM bar sweeps combos clean after each
  measure.
</code></pre></div></details><details class=note><summary>[SD card]/Roms/NES/metadata.pegasus.txt</summary><div class=codehilite><pre><span></span><code><span class=err>...</span><span class=w></span>

<span class=nf>game</span><span class=o>:</span> <span class=n>Contra</span>
<span class=nf>file</span><span class=o>:</span> <span class=n>Contra</span>.<span class=n>zip</span>
<span class=nf>developer</span><span class=o>:</span> <span class=n>Konami</span>
<span class=nf>players</span><span class=o>:</span> 2
<span class=nf>description</span><span class=o>:</span> <span class=n>In</span> <span class=n>the</span> <span class=n>year</span> 2633<span class=p>,</span> <span class=n>the</span> <span class=n>evil</span> <span class=n>Red</span> <span class=n>Falcon</span> <span class=n>Organization</span> <span class=n>have</span> <span class=n>set</span> <span class=n>a</span> <span class=n>base</span> <span class=n>on</span> <span class=n>the</span> <span class=n>Galuga</span>
  archipelago near New Zealand <span class=k>in</span> a plot to conquer the world. Two commandos, Pfc. Bill Rizer
  and Pfc. Lance Bean of the Contra unit <span class=o>(</span>an elite group of soldiers specializing <span class=k>in</span> guerrilla
  warfare<span class=o>)</span>, are sent to the island to destroy the enemy forces and uncover the <span class=nb>true</span> nature of
  Red Falcon, the alien entity controlling them.

<span class=nf>game</span><span class=o>:</span> <span class=n>Super</span> <span class=n>Mario</span> <span class=n>Bros</span>.
<span class=nf>file</span><span class=o>:</span> <span class=n>Super</span> <span class=n>Mario</span>.<span class=n>zip</span>
<span class=nf>developer</span><span class=o>:</span> <span class=n>Nintendo</span>
<span class=nf>players</span><span class=o>:</span> 2
<span class=nf>description</span><span class=o>:</span> <span class=n>In</span> <span class=n>the</span> <span class=n>fantasy</span> <span class=n>setting</span> <span class=n>of</span> <span class=n>the</span> <span class=n>Mushroom</span> <span class=n>Kingdom</span><span class=p>,</span> <span class=n>a</span> <span class=n>tribe</span> <span class=n>of</span> <span class=n>turtle</span>-<span class=n>like</span> <span class=n>creatures</span>
  known as the Koopa Troopas invade the kingdom and uses the magic of its king, Bowser, to
  turn its inhabitants, known as the Mushroom People, into inanimate objects such as bricks,
  stones and horsehair plants. Bowser and his army also kidnap Princess Toadstool, the princess
  of the Mushroom Kingdom and the only one with the ability to reverse Bowsers spell. After
  hearing the news, Mario sets out to save the princess and free the kingdom from Bowser.
</code></pre></div></details><p>After that, I open Pegasus, go to the Settings menu &rarr; Set game directories, and add both collection files to the list.</p><p><img alt=screenshot src=../img/meta-examples-android.png></p><p>Closing the menu, Pegasus asks if I want to reload my list of games. Pressing Yes, Pegasus starts reading the files, and after a short loading my games now appear with the assets and metadata set, and can be now launched from Pegasus.</p></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018-2021 Mátyás Mustoha</small><br><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script>var base_url = "../.."</script><script src=../../js/base.js></script><script src=../../search/main.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=searchModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><table class=table><thead><tr><th style="width: 20%;">Keys</th><th>Action</th></tr></thead><tbody><tr><td class="help shortcut"><kbd>?</kbd></td><td>Open this help</td></tr><tr><td class="next shortcut"><kbd>n</kbd></td><td>Next page</td></tr><tr><td class="prev shortcut"><kbd>p</kbd></td><td>Previous page</td></tr><tr><td class="search shortcut"><kbd>s</kbd></td><td>Search</td></tr></tbody></table></div><div class=modal-footer></div></div></div></div></body></html>